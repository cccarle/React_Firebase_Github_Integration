(window.webpackJsonp = window.webpackJsonp || []).push([[0], { 108: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return s }), n.d(e, 'b', function () { return u }), n.d(e, 'c', function () { return l }); var r = n(77); var a = n(4); var o = n(7); var i = n(37); var c = n(57); var s = function () { return function (t) { i.a.auth().onAuthStateChanged(function (e) { e ? (window.localStorage.setItem('loggedInUser', e.providerData[0].uid), Object(o.h)(e.providerData[0].uid), t({ type: a.h, payload: !0 }), c.a.push('/dashboard')) : t({ type: a.n, payload: !1 }) }) } }; var u = function (t) { return function (t) { var e = new r.auth.GithubAuthProvider(); e.addScope('user'), e.addScope('repo'), i.a.auth().signInWithPopup(e).then(function (e) { var n = e.credential.accessToken; Object(o.i)(n), t({ type: a.h, payload: !0 }), c.a.push('/dashboard') }).catch(function (t) { var e = t.errorCode; var n = t.errorMessage; console.log('Something went wrong please check your credentials or try again. error message : '.concat(n, ' - ').concat(e)) }) } }; var l = function (t) { return function (t) { i.a.auth().signOut().then(function () { t({ type: a.n, payload: !1 }), c.a.push('/') }).catch(function (t) { console.log('error accurred'.concat(t)) }) } } }, 11: function (t, e, n) { 'use strict'; var r = n(108); n.d(e, 'checkIfUserIsLoggedIn', function () { return r.a }), n.d(e, 'signInUser', function () { return r.b }), n.d(e, 'signOutUser', function () { return r.c }); var a = n(120); n.d(e, 'fetchOrgsDataGithubAPI', function () { return a.a }), n.d(e, 'fetchReposDataGithubAPI', function () { return a.b }), n.d(e, 'fetchReposInOrg', function () { return a.c }), n.d(e, 'fetchSubscriptions', function () { return a.d }), n.d(e, 'fetchUserDataFromGithubAPI', function () { return a.e }); var o = n(121); n.o(o, 'clearNotification') && n.d(e, 'clearNotification', function () { return o.clearNotification }), n.o(o, 'fetchNotifications') && n.d(e, 'fetchNotifications', function () { return o.fetchNotifications }), n.o(o, 'showNotification') && n.d(e, 'showNotification', function () { return o.showNotification }), n.o(o, 'showOrganizations') && n.d(e, 'showOrganizations', function () { return o.showOrganizations }), n.o(o, 'showProfile') && n.d(e, 'showProfile', function () { return o.showProfile }), n.o(o, 'showRepositories') && n.d(e, 'showRepositories', function () { return o.showRepositories }), n.o(o, 'showSubscriptions') && n.d(e, 'showSubscriptions', function () { return o.showSubscriptions }); var i = n(122); n.d(e, 'clearNotification', function () { return i.a }), n.d(e, 'fetchNotifications', function () { return i.b }); var c = n(123); n.d(e, 'showNotification', function () { return c.a }), n.d(e, 'showOrganizations', function () { return c.b }), n.d(e, 'showProfile', function () { return c.c }), n.d(e, 'showRepositories', function () { return c.d }), n.d(e, 'showSubscriptions', function () { return c.e }) }, 120: function (t, e, n) { 'use strict'; n.d(e, 'e', function () { return s }), n.d(e, 'a', function () { return u }), n.d(e, 'b', function () { return l }), n.d(e, 'c', function () { return f }), n.d(e, 'd', function () { return h }); var r = n(15); var a = n.n(r); var o = n(32); var i = n(4); var c = n(7); var s = function () { return (function () { var t = Object(o.a)(a.a.mark(function t (e) { return a.a.wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.t0 = window, t.next = 3, Object(c.g)(); case 3:t.t1 = t.sent, t.t2 = 'token ' + t.t1, t.t3 = { Authorization: t.t2 }, t.t4 = { headers: t.t3 }, t.t5 = function (t) { return t.json() }, t.t6 = function (t) { e({ type: i.g, payload: t }) }, t.t0.fetch.call(t.t0, 'https://api.github.com/user', t.t4).then(t.t5).then(t.t6); case 10:case 'end':return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }()) }; var u = function () { var t = []; return function (e) { Object(c.c)().onSnapshot(function (n) { if (n.exists && n.data().orgs) { var r = n.data().orgs; for (var a in r)t.push(r[a]) }e({ type: i.c, payload: t }), t = [] }) } }; var l = function () { var t = []; return function (e) { Object(c.c)().onSnapshot(function (n) { if (n.exists && n.data().repos) { var r = n.data().repos; for (var a in r)t.push(r[a]) }e({ type: i.d, payload: t.filter(function (t) { return !0 === t.admin }) }), t = [] }) } }; var f = function (t) { var e = []; return function (n) { Object(c.c)().onSnapshot(function (r) { if (r.exists && r.data().reposInOrgs) { var a = r.data().reposInOrgs; for (var o in a)a[o].owner === t.name && e.push(a[o]) }n({ type: i.e, payload: e }), e = [] }) } }; var h = function () { var t = []; return function (e) { Object(c.c)().collection('subscriptions').onSnapshot(function (n) { n.forEach(function (e) { var n = e.data(); t.push(n) }), e({ type: i.f, payload: t }), t = [] }) } } }, 121: function (t, e) {}, 122: function (t, e, n) { 'use strict'; n.d(e, 'b', function () { return s }), n.d(e, 'a', function () { return u }); var r = n(15); var a = n.n(r); var o = n(32); var i = n(4); var c = n(7); var s = function () { var t = []; return (function () { var e = Object(o.a)(a.a.mark(function e (n) { return a.a.wrap(function (e) { for (;;) switch (e.prev = e.next) { case 0:return e.next = 2, Object(c.c)().collection('notifications').onSnapshot(function (e) { e.forEach(function (e) { var r = e.data(); var a = {}; r.type === 'issue' ? (a.title = r.title, a.body = r.body, a.createdBy = r.header + r.type, a.avatar = r.avatar, a.repositoryName = r.repositoryName, a.time = r.time, a.repoID = r.repoID, a.staus = r.staus) : (a.title = r.type, a.body = r.body, a.createdBy = r.title + ' ' + r.action, a.avatar = r.avatar, a.repositoryName = r.repositoryName, a.time = r.time, a.staus = r.staus), t.push(a); var o = t.filter(function (t) { return t.staus != 1 }); n({ type: i.b, payload: o.reverse() }) }), n({ type: i.a, payload: t }), t = [] }); case 2:case 'end':return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }()) }; var u = function () { return function (t) { t({ type: i.b, payload: [].reverse() }) } } }, 123: function (t, e, n) { 'use strict'; n.d(e, 'a', function () { return a }), n.d(e, 'd', function () { return o }), n.d(e, 'b', function () { return i }), n.d(e, 'c', function () { return c }), n.d(e, 'e', function () { return s }); var r = n(4); var a = function () { return function (t) { t({ type: r.i, payload: !0 }) } }; var o = function () { return function (t) { t({ type: r.l, payload: !0 }), t({ type: r.i, payload: !1 }) } }; var i = function () { return function (t) { t({ type: r.l, payload: !1 }), t({ type: r.i, payload: !1 }), t({ type: r.j, payload: !0 }) } }; var c = function () { return function (t) { t({ type: r.k, payload: !0 }), t({ type: r.l, payload: !1 }), t({ type: r.i, payload: !1 }), t({ type: r.j, payload: !1 }), t({ type: r.m, payload: !1 }) } }; var s = function () { return function (t) { t({ type: r.m, payload: !0 }), t({ type: r.k, payload: !1 }), t({ type: r.l, payload: !1 }), t({ type: r.i, payload: !1 }), t({ type: r.j, payload: !1 }) } } }, 160: function (t, e, n) { t.exports = n(341) }, 341: function (t, e, n) { 'use strict'; n.r(e); var r = n(0); var a = n.n(r); var o = n(42); var i = n.n(o); var c = n(18); var s = n(19); var u = n(21); var l = n(20); var f = n(22); var h = n(343); var p = n(344); var d = n(345); var m = n(57); var g = n(25); var b = n(43); var v = n(148); var O = n(23); var y = n(4); var w = { isAuthenticated: !1 }; var j = {}; var E = {}; var k = {}; var N = {}; var I = {}; var S = { showNotifications: !1, showRepositories: !1, showOrganization: !1, showSubscription: !1, showProfile: !0 }; var A = {}; var x = Object(b.c)({ auth: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : w; switch ((arguments.length > 1 ? arguments[1] : void 0).type) { case y.h:return Object(O.a)({}, t, { isAuthenticated: !0 }); case y.n:return Object(O.a)({}, t, { isAuthenticated: !1 }); default:return t } }, profile: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : j; var e = arguments.length > 1 ? arguments[1] : void 0; switch (e.type) { case y.g:return e.payload; default:return t } }, repos: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : E; var e = arguments.length > 1 ? arguments[1] : void 0; switch (e.type) { case y.d:return e.payload; default:return t } }, orgs: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : k; var e = arguments.length > 1 ? arguments[1] : void 0; switch (e.type) { case y.c:case y.e:return e.payload; default:return t } }, notification: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : N; var e = arguments.length > 1 ? arguments[1] : void 0; switch (e.type) { case y.a:return e.payload; default:return t } }, notificationLength: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : I; var e = arguments.length > 1 ? arguments[1] : void 0; switch (e.type) { case y.b:return e.payload; default:return t } }, toggel: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : S; var e = arguments.length > 1 ? arguments[1] : void 0; switch (e.type) { case y.i:return Object(O.a)({}, t, { showNotifications: e.payload }); case y.l:return Object(O.a)({}, t, { showRepositories: e.payload }); case y.j:return Object(O.a)({}, t, { showOrganization: e.payload }); case y.k:return Object(O.a)({}, t, { showProfile: e.payload }); case y.m:return Object(O.a)({}, t, { showSubscription: e.payload }); default:return t } }, subscription: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : A; var e = arguments.length > 1 ? arguments[1] : void 0; switch (e.type) { case y.f:return e.payload; default:return t } } }); var C = [v.a]; var R = Object(b.e)(x, {}, Object(b.d)(b.a.apply(void 0, C))); var T = n(11); var P = n(24); var U = n(17); var _ = n.n(U); var G = n(9); var D = n.n(G); var L = { containerStyle: { marginTop: '20%', textAlign: 'center', width: '100%' }, root: { width: '100%', maxWidth: 500 }, text: { fontSize: 100, color: 'black', textAlign: 'center' }, underText: { marginBottom: '2%' } }; var B = (function (t) { function e () { var t, n; Object(c.a)(this, e); for (var r = arguments.length, a = new Array(r), o = 0; o < r; o++)a[o] = arguments[o]; return (n = Object(u.a)(this, (t = Object(l.a)(e)).call.apply(t, [this].concat(a)))).signInAttempt = function () { n.props.signInUser() }, n } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'componentDidMount', value: function () { this.props.checkIfUserIsLoggedIn() } }, { key: 'render', value: function () { var t = this.props.classes; return a.a.createElement('div', { className: t.containerStyle }, a.a.createElement(D.a, { component: 'h2', variant: 'h2', gutterBottom: !0 }, 'Welcome To Guthub Dashboard'), a.a.createElement(D.a, { className: t.underText, component: 'h2', variant: 'overline', gutterBottom: !0 }, 'never miss a commit or issue again'), a.a.createElement('div', null, a.a.createElement(_.a, { onClick: this.signInAttempt, color: 'primary', size: 'large', variant: 'outlined' }, 'Log in', ' '))) } }]), e }(a.a.Component)); var z = Object(g.b)(null, { signInUser: T.signInUser, checkIfUserIsLoggedIn: T.checkIfUserIsLoggedIn })(Object(P.withStyles)(L)(B)); var F = n(7); var W = n(35); var H = n(36); var M = n.n(H); var J = n(149); var q = n.n(J); var K = n(150); var V = n.n(K); var Z = { root: { flexGrow: 1 }, grow: {}, ButtonContainer: { textAlign: 'right', flexGrow: 1 }, navbarColor: { backgroundColor: '#76427A' } }; var Q = n(151); var X = n.n(Q); var Y = n(152); var $ = n.n(Y); var tt = (function (t) { function e () { var t, n; Object(c.a)(this, e); for (var r = arguments.length, a = new Array(r), o = 0; o < r; o++)a[o] = arguments[o]; return (n = Object(u.a)(this, (t = Object(l.a)(e)).call.apply(t, [this].concat(a)))).signOutAttempt = function () { n.props.signOutUser() }, n.toggelProfile = function () { n.props.showProfile() }, n.toggelRepositories = function () { n.props.showRepositories(), n.props.fetchReposDataGithubAPI() }, n.toggelOrganizations = function () { n.props.showOrganizations(), n.props.fetchOrgsDataGithubAPI() }, n.toggelSubscriptions = function () { n.props.showSubscriptions(), n.props.fetchSubscriptions() }, n.toggelNotification = function (t) { n.props.showNotification(), Object(W.d)(t) }, n } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'componentWillMount', value: function () { this.props.fetchNotifications() } }, { key: 'render', value: function () { var t = this; var e = this.props.classes; return a.a.createElement('div', { className: e.root }, a.a.createElement(q.a, { color: 'primary', className: e.navbarColor, position: 'static' }, a.a.createElement(V.a, null, a.a.createElement('div', null, a.a.createElement(D.a, { className: e.grow, variant: 'overline', color: 'inherit' }, 'Github Dashboard')), a.a.createElement('div', { className: e.ButtonContainer }, a.a.createElement(_.a, { onClick: this.toggelProfile, color: 'inherit' }, a.a.createElement(D.a, { variant: 'overline', color: 'inherit' }, 'Profile')), a.a.createElement(_.a, { onClick: this.toggelOrganizations, color: 'inherit' }, a.a.createElement(D.a, { variant: 'overline', color: 'inherit' }, 'Organizations')), a.a.createElement(_.a, { onClick: this.toggelRepositories, color: 'inherit' }, a.a.createElement(D.a, { variant: 'overline', color: 'inherit' }, 'Repositories')), a.a.createElement(_.a, { onClick: this.toggelSubscriptions, color: 'inherit' }, a.a.createElement(D.a, { variant: 'overline', color: 'inherit' }, 'My Subscriptions')), a.a.createElement(_.a, { onClick: function () { return t.toggelNotification(t.props) }, color: 'inherit' }, a.a.createElement(X.a, { className: e.margin, badgeContent: this.props.notificationsLength.length, color: 'secondary' }, a.a.createElement($.a, null))), a.a.createElement(_.a, { onClick: this.signOutAttempt, color: 'inherit' }, a.a.createElement(D.a, { variant: 'overline', color: 'inherit' }, 'Sign out')))))) } }]), e }(r.Component)); var et = Object(g.b)(function (t) { return { notificationsLength: M.a.map(t.notificationLength, function (t) { return Object(O.a)({}, t) }) } }, { signOutUser: T.signOutUser, showRepositories: T.showRepositories, showNotification: T.showNotification, showOrganizations: T.showOrganizations, showSubscriptions: T.showSubscriptions, showProfile: T.showProfile, clearNotification: T.clearNotification, fetchReposDataGithubAPI: T.fetchReposDataGithubAPI, fetchOrgsDataGithubAPI: T.fetchOrgsDataGithubAPI, fetchNotifications: T.fetchNotifications, fetchSubscriptions: T.fetchSubscriptions })(Object(P.withStyles)(Z)(tt)); var nt = n(54); var rt = n.n(nt); var at = n(41); var ot = n.n(at); var it = n(56); var ct = n.n(it); var st = n(55); var ut = n.n(st); var lt = { root: { display: 'flex', justifyContent: 'center', overflow: 'hidden' }, gridList: { width: 800, height: 750 }, button: { backgroundColor: '#FFF', marginRight: 20 }, headerText: { textAlign: 'center', marginTop: '10%', marginBottom: '10%' }, hrContainer: { display: 'flex', flexWrap: 'wrap', justifyContent: 'center' }, text: { textAlign: 'center', marginTop: 300 } }; var ft = (function (t) { function e () { var t, n; Object(c.a)(this, e); for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++)o[i] = arguments[i]; return (n = Object(u.a)(this, (t = Object(l.a)(e)).call.apply(t, [this].concat(o)))).turnOffNotification = function (t) { Object(F.e)(t) }, n.turnOnNotification = function (t) { Object(F.a)(t) }, n.renderButton = function (t, e) { return t.active ? a.a.createElement(_.a, { onClick: function () { return n.turnOffNotification(t) }, variant: 'contained', className: e.button }, 'Unsubscribe') : a.a.createElement(_.a, { onClick: function () { return n.turnOnNotification(t) }, variant: 'outlined', className: e.button }, 'Subscribe') }, n } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'render', value: function () { var t = this; var e = this.props.classes; return a.a.createElement('div', { className: e.root }, a.a.createElement(rt.a, { cellHeight: 180, className: e.gridList }, a.a.createElement(ot.a, { key: 'header', cols: 2, style: { height: 'auto' } }, a.a.createElement(ut.a, { component: 'div' }, a.a.createElement('div', { className: e.hrContainer }, a.a.createElement(D.a, { className: e.headerText, variant: 'overline', gutterBottom: !0 }, 'Github Repositories', a.a.createElement('hr', null))))), this.props.repos.map(function (n) { return a.a.createElement(ot.a, { key: n.id }, a.a.createElement('img', { src: n.avatarURL, alt: n.name }), a.a.createElement(ct.a, { title: n.name, subtitle: a.a.createElement('span', null, 'owner: ', n.owner), actionIcon: t.renderButton(n, e) })) }))) } }]), e }(a.a.Component)); var ht = Object(g.b)(function (t) { return { repos: M.a.map(t.repos, function (t) { return Object(O.a)({}, t) }) } }, {})(Object(P.withStyles)(lt)(ft)); var pt = { root: { display: 'flex', flexWrap: 'wrap', justifyContent: 'center', overflow: 'hidden' }, gridList: { width: 800, height: 750 }, button: { backgroundColor: '#FFF', marginRight: 20 }, backButton: { backgroundColor: '#A5668B', marginRight: 20 }, headerText: { textAlign: 'center', marginTop: '10%', marginBottom: '10%' }, hrContainer: { display: 'flex', flexWrap: 'wrap', justifyContent: 'center' } }; var dt = (function (t) { function e () { var t, n; Object(c.a)(this, e); for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++)o[i] = arguments[i]; return (n = Object(u.a)(this, (t = Object(l.a)(e)).call.apply(t, [this].concat(o)))).viewReposInOrg = function (t) { n.props.fetchReposInOrg(t) }, n.renderOrgs = function () { n.props.fetchOrgsDataGithubAPI() }, n.addWebhook = function (t) { Object(F.a)(t) }, n.deleteHook = function (t) { Object(F.e)(t) }, n.renderButton = function (t, e) { return t.reposURL ? a.a.createElement('div', null, a.a.createElement(_.a, { onClick: function () { return n.viewReposInOrg(t) }, variant: 'contained', className: e.button }, 'View')) : t.reposURL && !t.admin || t.reposInOrgss && !t.admin ? a.a.createElement(_.a, { variant: 'contained', className: e.button }, 'Not admin') : t.active ? a.a.createElement(_.a, { onClick: function () { return n.deleteHook(t) }, variant: 'contained', className: e.button }, 'Unsubscribe') : a.a.createElement(_.a, { onClick: function () { return n.addWebhook(t) }, variant: 'contained', className: e.button }, 'Subscribe') }, n.checkWhichAvatarToRender = function (t) { return t.avatarIMG ? t.avatarIMG : t.avatarURL }, n } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'render', value: function () { var t = this; var e = this.props.classes; return a.a.createElement('div', { className: e.root }, a.a.createElement(rt.a, { cellHeight: 180, className: e.gridList }, a.a.createElement(ot.a, { key: 'header', cols: 2, style: { height: 'auto' } }, a.a.createElement(ut.a, { component: 'div' }, a.a.createElement('div', { className: e.hrContainer }, a.a.createElement(D.a, { className: e.headerText, variant: 'overline', gutterBottom: !0 }, 'Github Organizations', a.a.createElement('hr', null))))), this.props.orgs.map(function (n) { return a.a.createElement(ot.a, { key: n.name }, a.a.createElement('img', { src: t.checkWhichAvatarToRender(n), alt: 'avatar' }), a.a.createElement(ct.a, { title: n.name, key: n.name, subtitle: a.a.createElement('span', null, ' ', n.url), actionIcon: t.renderButton(n, e) })) }), a.a.createElement(_.a, { onClick: function () { return t.renderOrgs() }, variant: 'contained', className: e.backButton }, 'Back'))) } }]), e }(a.a.Component)); var mt = Object(g.b)(function (t) { return { orgs: M.a.map(t.orgs, function (t) { return Object(O.a)({}, t) }) } }, { fetchOrgsDataGithubAPI: T.fetchOrgsDataGithubAPI, fetchReposInOrg: T.fetchReposInOrg })(Object(P.withStyles)(pt)(dt)); var gt = n(156); var bt = n.n(gt); var vt = n(103); var Ot = n.n(vt); var yt = n(104); var wt = n.n(yt); var jt = n(157); var Et = n.n(jt); var kt = n(155); var Nt = n.n(kt); var It = n(153); var St = n.n(It); var At = n(154); var xt = n.n(At); var Ct = { root: { maxWidth: 860, marginTop: '3%', margin: 'auto', width: '80\u2030', textAlign: 'center' }, Button: { marginTop: 10, marginRight: 110 }, delete: { textAlign: 'right' } }; var Rt = (function (t) { function e () { var t, n; Object(c.a)(this, e); for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++)o[i] = arguments[i]; return (n = Object(u.a)(this, (t = Object(l.a)(e)).call.apply(t, [this].concat(o)))).clearNotifications = function () { Object(W.a)() }, n.renderIfNotification = function (t, e) { return t.length === 0 ? a.a.createElement(D.a, { variant: 'overline', gutterBottom: !0 }, 'No new notifications') : a.a.createElement('div', { key: t }, a.a.createElement('div', { className: e.container }, a.a.createElement(D.a, { className: e.headline, variant: 'overline', gutterBottom: !0 }, 'Notifications', a.a.createElement('div', { className: e.delete }, a.a.createElement(St.a, { title: 'Delete' }, a.a.createElement(xt.a, { onClick: n.clearNotifications, 'aria-label': 'Delete' }, a.a.createElement(Nt.a, null)))))), t.map(function (t) { return a.a.createElement(bt.a, { key: t.time }, a.a.createElement(Ot.a, null, a.a.createElement(Et.a, { alt: '', src: t.avatar }), a.a.createElement(wt.a, { primary: t.title, secondary: t.body }), a.a.createElement(D.a, { variant: 'overline', gutterBottom: !0 }, t.createdBy, ' on  ', t.repositoryName)), a.a.createElement(Ot.a, null, a.a.createElement(wt.a, { primary: '', secondary: '' }), a.a.createElement(D.a, { variant: 'overline', gutterBottom: !0 }, t.time.slice(0, 24), ' - ', ' '))) })) }, n } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'render', value: function () { var t = this.props.classes; return a.a.createElement('div', { className: t.root }, this.renderIfNotification(this.props.notifications, t)) } }]), e }(a.a.Component)); var Tt = Object(g.b)(function (t) { return { notifications: M.a.map(t.notification, function (t) { return Object(O.a)({}, t) }) } }, {})(Object(P.withStyles)(Ct)(Rt)); var Pt = { root: { display: 'flex', justifyContent: 'center', overflow: 'hidden' }, gridList: { width: 800, height: 750 }, button: { backgroundColor: '#FFF', marginRight: 20 }, headerText: { textAlign: 'center', marginTop: '10%', marginBottom: '10%' }, hrContainer: { display: 'flex', flexWrap: 'wrap', justifyContent: 'center' }, text: { textAlign: 'center', marginTop: 300 } }; var Ut = (function (t) { function e () { var t, n; Object(c.a)(this, e); for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++)o[i] = arguments[i]; return (n = Object(u.a)(this, (t = Object(l.a)(e)).call.apply(t, [this].concat(o)))).turnOffNotification = function (t) { Object(F.e)(t), Object(F.d)(t) }, n.turnOnNotification = function (t) { Object(F.a)(t) }, n.renderButton = function (t, e) { return t.active ? a.a.createElement(_.a, { onClick: function () { return n.turnOffNotification(t) }, variant: 'contained', className: e.button }, 'Unsubscribe') : a.a.createElement(_.a, { onClick: function () { return n.turnOnNotification(t) }, variant: 'outlined', className: e.button }, 'Subscribe') }, n } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'render', value: function () { var t = this; var e = this.props.classes; return a.a.createElement('div', { className: e.root }, a.a.createElement(rt.a, { cellHeight: 180, className: e.gridList }, a.a.createElement(ot.a, { key: 'header', cols: 2, style: { height: 'auto' } }, a.a.createElement(ut.a, { component: 'div' }, a.a.createElement('div', { className: e.hrContainer }, a.a.createElement(D.a, { className: e.headerText, variant: 'overline', gutterBottom: !0 }, 'My Subscriptions', a.a.createElement('hr', null))))), this.props.subscription.map(function (n) { return a.a.createElement(ot.a, { key: n.id }, a.a.createElement('img', { src: n.avatarURL, alt: n.name }), a.a.createElement(ct.a, { title: n.name, subtitle: a.a.createElement('span', null, 'owner: ', n.owner), actionIcon: t.renderButton(n, e) })) }))) } }]), e }(a.a.Component)); var _t = Object(g.b)(function (t) { return { subscription: M.a.map(t.subscription, function (t) { return Object(O.a)({}, t) }) } }, {})(Object(P.withStyles)(Pt)(Ut)); var Gt = { root: { display: ' flex', height: '100%' }, githubStatsContainer: { flex: 1, marginTop: '8%' }, headerText: { textAlign: 'center' }, underlineContainer: { display: 'inline-flex', marginTop: '4%', textAlign: 'center' }, text: { alignSelf: 'center', paddingRight: 20, marginLeft: '1%', width: 200, textAlign: 'center' }, numberText: { textAlign: 'center' } }; var Dt = (function (t) { function e () { return Object(c.a)(this, e), Object(u.a)(this, Object(l.a)(e).apply(this, arguments)) } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'render', value: function () { var t = this.props.classes; return a.a.createElement('div', { className: t.root }, a.a.createElement('div', { className: t.githubStatsContainer }, a.a.createElement('div', { className: t.headerText }, a.a.createElement(D.a, { variant: 'overline', color: 'inherit' }, 'Github Overview'), a.a.createElement(D.a, { variant: 'overline', color: 'inherit' }, 'Logged in user : ', this.props.profile.login), a.a.createElement('div', { className: t.underlineContainer }, a.a.createElement(D.a, { className: t.text, variant: 'overline', color: 'inherit' }, 'Private Repos', a.a.createElement('hr', null), a.a.createElement(D.a, { className: t.numberText, variant: 'overline', color: 'inherit' }, this.props.profile.total_private_repos)), a.a.createElement(D.a, { className: t.text, variant: 'overline', color: 'inherit' }, 'Public Repos', a.a.createElement('hr', null), a.a.createElement(D.a, { className: t.numberText, variant: 'overline', color: 'inherit' }, this.props.profile.public_repos)), a.a.createElement(D.a, { className: t.text, variant: 'overline', color: 'inherit' }, 'Followers', a.a.createElement('hr', null), a.a.createElement(D.a, { className: t.numberText, variant: 'overline', color: 'inherit' }, this.props.profile.followers)))))) } }]), e }(a.a.Component)); var Lt = Object(g.b)(function (t) { return t }, {})(Object(P.withStyles)(Gt)(Dt)); var Bt = n(158); var zt = n.n(Bt); var Ft = Object(P.withStyles)(function (t) { return { progress: { margin: 2 * t.spacing.unit } } })(function (t) { var e = t.classes; return a.a.createElement('div', null, a.a.createElement(zt.a, { className: e.progress })) }); var Wt = { container: { display: 'flex', alignItems: 'center', justifyContent: 'center' }, spinner: { marginTop: '25%' } }; var Ht = (function (t) { function e () { var t, n; Object(c.a)(this, e); for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++)o[i] = arguments[i]; return (n = Object(u.a)(this, (t = Object(l.a)(e)).call.apply(t, [this].concat(o)))).toggelComponentToRender = function () { return n.props.toggel.showNotifications ? a.a.createElement(Tt, null) : n.props.toggel.showRepositories ? a.a.createElement(ht, null) : n.props.toggel.showOrganization ? a.a.createElement(mt, null) : n.props.toggel.showSubscription ? a.a.createElement(_t, null) : a.a.createElement(Lt, null) }, n } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'componentWillMount', value: function () { Object(F.b)(), Object(W.c)(), Object(W.b)() } }, { key: 'componentDidMount', value: function () { this.props.fetchUserDataFromGithubAPI() } }, { key: 'render', value: function () { var t = this.props.classes; return Object.entries(this.props.profile).length === 0 && this.props.profile.constructor === Object ? a.a.createElement('div', { className: t.container }, a.a.createElement('div', { className: t.spinner }, a.a.createElement(Ft, { className: t.spinner }))) : a.a.createElement('div', null, a.a.createElement(et, null), this.toggelComponentToRender()) } }]), e }(r.Component)); var Mt = Object(g.b)(function (t) { return t }, { fetchUserDataFromGithubAPI: T.fetchUserDataFromGithubAPI, fetchReposDataGithubAPI: T.fetchReposDataGithubAPI, fetchOrgsDataGithubAPI: T.fetchOrgsDataGithubAPI, fetchNotifications: T.fetchNotifications, fetchSubscriptions: T.fetchSubscriptions })(Object(P.withStyles)(Wt)(Ht)); var Jt = (function (t) { function e () { return Object(c.a)(this, e), Object(u.a)(this, Object(l.a)(e).apply(this, arguments)) } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'render', value: function () { return a.a.createElement('div', null, a.a.createElement('p', null, 'Page Not Found ')) } }]), e }(r.Component)); var qt = (function (t) { function e () { return Object(c.a)(this, e), Object(u.a)(this, Object(l.a)(e).apply(this, arguments)) } return Object(f.a)(e, t), Object(s.a)(e, [{ key: 'render', value: function () { return a.a.createElement(g.a, { store: R }, a.a.createElement(h.a, { history: m.a }, a.a.createElement('div', null, a.a.createElement(p.a, null, a.a.createElement(d.a, { exact: !0, path: '/', component: z }), a.a.createElement(d.a, { exact: !0, path: '/dashboard', component: Mt }), a.a.createElement(d.a, { component: Jt }))))) } }]), e }(r.Component)); 'serviceWorker' in navigator && navigator.serviceWorker.register('../firebase-messaging-sw.js').then(function (t) { console.log('Registration successful, scope is:', t.scope) }).catch(function (t) { console.log('Service worker registration failed, error:', t) }), i.a.render(a.a.createElement(qt, null), document.getElementById('root')) }, 35: function (t, e, n) { 'use strict'; n.d(e, 'c', function () { return s }), n.d(e, 'b', function () { return l }), n.d(e, 'f', function () { return f }), n.d(e, 'e', function () { return h }), n.d(e, 'd', function () { return p }), n.d(e, 'a', function () { return d }); var r = n(15); var a = n.n(r); var o = n(32); var i = n(7); var c = n(37).a.firestore(); var s = (function () { var t = Object(o.a)(a.a.mark(function t () { return a.a.wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.t0 = window, t.next = 3, Object(i.g)(); case 3:t.t1 = t.sent, t.t2 = 'token ' + t.t1, t.t3 = { Authorization: t.t2 }, t.t4 = { headers: t.t3 }, t.t5 = function (t) { return t.json() }, t.t6 = function (t) { for (var e = Object.keys(t), n = 0; n < e.length; n++) { var r = e[n]; var a = {}; var o = { id: t[r].id, name: t[r].name, hooks_url: t[r].hooks_url, url: t[r].url, owner: t[r].owner.login, admin: t[r].permissions.admin, avatarURL: t[r].owner.avatar_url }; a[''.concat(o.id)] = o, c.collection('users').doc(''.concat(Object(i.f)())).set({ repos: a }, { merge: !0 }) } }, t.t0.fetch.call(t.t0, 'https://api.github.com/user/repos', t.t4).then(t.t5).then(t.t6); case 10:case 'end':return t.stop() } }, t) })); return function () { return t.apply(this, arguments) } }()); var u = (function () { var t = Object(o.a)(a.a.mark(function t (e) { return a.a.wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.t0 = window, t.t1 = 'https://api.github.com/orgs/'.concat(e, '/repos'), t.next = 4, Object(i.g)(); case 4:t.t2 = t.sent, t.t3 = 'token ' + t.t2, t.t4 = { Authorization: t.t3 }, t.t5 = { headers: t.t4 }, t.t6 = function (t) { return t.json() }, t.t7 = function (t) { for (var e = Object.keys(t), n = 0; n < e.length; n++) { var r = e[n]; var a = {}; var o = { id: t[r].id, name: t[r].name, hooks_url: t[r].hooks_url, url: t[r].url, owner: t[r].owner.login, admin: t[r].permissions.admin, avatarURL: t[r].owner.avatar_url, reposInOrgss: !0 }; a[''.concat(o.id)] = o, c.collection('users').doc(''.concat(Object(i.f)())).set({ reposInOrgs: a }, { merge: !0 }) } }, t.t0.fetch.call(t.t0, t.t1, t.t5).then(t.t6).then(t.t7); case 11:case 'end':return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }()); var l = (function () { var t = Object(o.a)(a.a.mark(function t () { return a.a.wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.t0 = window, t.next = 3, Object(i.g)(); case 3:t.t1 = t.sent, t.t2 = 'token ' + t.t1, t.t3 = { Authorization: t.t2 }, t.t4 = { headers: t.t3 }, t.t5 = function (t) { return t.json() }, t.t6 = (function () { var t = Object(o.a)(a.a.mark(function t (e) { var n, r, o, s, l; return a.a.wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:for (n = Object.keys(e), r = 0; r < n.length; r++)o = n[r], s = {}, l = { id: e[o].id, name: e[o].login, hooks_url: e[o].hooks_url, url: e[o].url, avatarURL: e[o].avatar_url, reposURL: e[o].repos_url }, u(e[o].login), s[''.concat(l.id)] = l, c.collection('users').doc(''.concat(Object(i.f)())).set({ orgs: s }, { merge: !0 }); case 2:case 'end':return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }()), t.t0.fetch.call(t.t0, 'https://api.github.com/user/orgs', t.t4).then(t.t5).then(t.t6); case 10:case 'end':return t.stop() } }, t) })); return function () { return t.apply(this, arguments) } }()); var f = function (t, e, n) { var r = {}; e === null && (e = t); var a = { active: n, admin: t.admin, avatarURL: t.avatarURL, hooks_url: t.hooks_url, id: t.id, name: t.name, owner: t.owner, url: t.url, hooksID: e.url, reposInOrgss: !0 }; r['reposInOrgs.'.concat(t.id)] = a, Object(i.c)().update(r) }; var h = function (t, e, n) { var r = {}; e === null && (e = t); var a = { active: n, admin: t.admin, avatarURL: t.avatarURL, hooks_url: t.hooks_url, id: t.id, name: t.name, owner: t.owner, url: t.url, hooksID: e.url }; r['repos.'.concat(t.id)] = a, Object(i.c)().update(r) }; var p = function (t) { var e = c.batch(); Object(i.c)().collection('notifications').get().then(function (t) { t.forEach(function (t) { e.update(t.ref, { staus: !0 }) }), e.commit() }) }; var d = function () { var t = c.batch(); Object(i.c)().collection('notifications').get().then(function (e) { e.forEach(function (e) { t.delete(e.ref) }), t.commit() }) } }, 37: function (t, e, n) { 'use strict'; var r = n(77); e.a = r.initializeApp({ apiKey: 'AIzaSyBr2zjlkIdRl2TwTN2OOsA85AW8NeHBI2k', authDomain: 'guthubdashboard.firebaseapp.com', databaseURL: 'https://guthubdashboard.firebaseio.com', projectId: 'guthubdashboard', storageBucket: 'guthubdashboard.appspot.com', messagingSenderId: '259327836521' }) }, 4: function (t, e, n) { 'use strict'; n.d(e, 'h', function () { return r }), n.d(e, 'n', function () { return a }), n.d(e, 'g', function () { return o }), n.d(e, 'd', function () { return i }), n.d(e, 'c', function () { return c }), n.d(e, 'e', function () { return s }), n.d(e, 'f', function () { return u }), n.d(e, 'a', function () { return l }), n.d(e, 'b', function () { return f }), n.d(e, 'i', function () { return h }), n.d(e, 'l', function () { return p }), n.d(e, 'j', function () { return d }), n.d(e, 'k', function () { return m }), n.d(e, 'm', function () { return g }); var r = 'LOGGED_IN_SUCCESS'; var a = 'SIGN_OUT'; var o = 'GET_USER_PROFILE_DATA'; var i = 'GET_REPOS_DATA'; var c = 'GET_ORGS_DATA'; var s = 'GET_REPOS_IN_ORGS'; var u = 'GET_SUBSCRIPTIONS'; var l = 'FETCH_NOTIFICATIONS'; var f = 'FETCH_NOTIFICATIONS_LENGTH'; var h = 'SHOW_NOTIFICATIONS'; var p = 'SHOW_REPOSITORIES'; var d = 'SHOW_ORGANIZATION'; var m = 'SHOW_PROFILE'; var g = 'SHOW_SUBSCRIPTIONS' }, 57: function (t, e, n) { 'use strict'; var r = n(146); var a = n.n(r); e.a = a()() }, 7: function (t, e, n) { 'use strict'; n.d(e, 'f', function () { return l }), n.d(e, 'h', function () { return f }), n.d(e, 'c', function () { return h }), n.d(e, 'b', function () { return p }), n.d(e, 'i', function () { return d }), n.d(e, 'g', function () { return m }), n.d(e, 'a', function () { return g }), n.d(e, 'e', function () { return v }), n.d(e, 'd', function () { return O }); var r = n(15); var a = n.n(r); var o = n(32); var i = n(37); var c = n(35); var s = i.a.firestore(); var u = i.a.messaging(); var l = function () { return window.localStorage.getItem('loggedInUser') }; var f = function (t) { s.collection('users').doc(''.concat(t)).set({ userID: t }, { merge: !0 }) }; var h = function () { return s.collection('users').doc(''.concat(l())) }; var p = function () { u.requestPermission().then(function () { return u.getToken() }).then(function (t) { s.collection('users').doc(''.concat(l())).set({ msgToken: t }, { merge: !0 }) }).catch(function (t) { console.log('An error accured : ' + t) }) }; var d = function (t) { window.localStorage.setItem('token', t) }; var m = (function () { var t = Object(o.a)(a.a.mark(function t () { var e; return a.a.wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return e = window.localStorage.getItem('token'), t.abrupt('return', e); case 2:case 'end':return t.stop() } }, t) })); return function () { return t.apply(this, arguments) } }()); var g = (function () { var t = Object(o.a)(a.a.mark(function t (e) { var n; return a.a.wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return console.log(e), n = { events: ['issues', 'push'], name: 'web', config: { url: 'https://us-central1-guthubdashboard.cloudfunctions.net/events?id='.concat(i.a.auth().currentUser.uid), content_type: 'json' } }, t.t0 = window, t.t1 = e.hooks_url, t.t2 = JSON.stringify(n), t.next = 7, m(); case 7:t.t3 = t.sent, t.t4 = 'token ' + t.t3, t.t5 = { Authorization: t.t4, 'Content-Type': 'application/json' }, t.t6 = { method: 'POST', body: t.t2, headers: t.t5 }, t.t7 = function (t) { return t.json() }, t.t8 = function (t) { e.reposInOrgss ? Object(c.f)(e, t, !0) : Object(c.e)(e, t, !0), b(e, t, !0) }, t.t9 = function (t) { console.log('An error accoured when trying to add webhook : ' + t) }, t.t0.fetch.call(t.t0, t.t1, t.t6).then(t.t7).then(t.t8).catch(t.t9); case 15:case 'end':return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }()); var b = function (t, e, n) { var r; r = !!t.reposInOrgss, h().collection('subscriptions').add({ active: n, admin: t.admin, avatarURL: t.avatarURL, hooks_url: t.hooks_url, id: t.id, name: t.name, owner: t.owner, url: t.url, hooksID: e.url, reposInOrgss: r }) }; var v = (function () { var t = Object(o.a)(a.a.mark(function t (e) { return a.a.wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.t0 = window, t.t1 = e.hooksID, t.next = 4, m(); case 4:t.t2 = t.sent, t.t3 = 'token ' + t.t2, t.t4 = { Authorization: t.t3, 'Content-Type': 'application/json' }, t.t5 = { method: 'DELETE', headers: t.t4 }, t.t6 = function () { e.reposInOrgss ? Object(c.f)(e, null, !1) : Object(c.e)(e, null, !1) }, t.t7 = function (t) { console.log('An error accoured when trying to delete webhook : ' + t) }, t.t0.fetch.call(t.t0, t.t1, t.t5).then(t.t6).catch(t.t7); case 11:case 'end':return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }()); var O = function (t) { var e = s.batch(); h().collection('subscriptions').where('id', '==', t.id).get().then(function (t) { t.forEach(function (t) { e.delete(t.ref) }), e.commit() }) } } }, [[160, 2, 1]]])
// # sourceMappingURL=main.8f5d5b4e.chunk.js.map
